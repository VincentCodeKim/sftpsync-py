Sync directories over SSH from a remote directory to a local one, and vice versa.

Update destination files according to the source size and modified time.
Remove destination files and directories if not present at source or excluded (include/exclude parameters).


Example:

    # We synchronize an Android phone sdcard mountpoint over SSH (assuming a SSH server is running on the device)

    from sftpsync import Sftp

    host = '192.168.1.149'
    port = 2222
    username = 'root'
    password = 'password'

    sftp = Sftp(host, username, password, port=port)

    # We don't want to backup everything
    exclude = [
        r'^Music/',
        r'^Video/',
        ]
    src = '/mnt/sdcard'
    dst = '/home/user/phone-backup/'

    sftp.sync(src, dst, download=True, delete=True, exclude=exclude)


    # We sync a local directory to the phone
    src = '/home/user/data/code/sftpsync-py'
    dst = '/mnt/sdcard/data/'

    sftp.sync(src, dst, download=False, delete=True)
